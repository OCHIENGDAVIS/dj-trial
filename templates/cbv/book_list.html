{% extends 'main.html' %}


{% block title %}
    Book List
{% endblock %}

{% block content %}
    <style>
    .container{
        display: grid;
        grid-template-columns: 1fr 3fr 1fr;
        grid-column-gap: 2rem;
    }
    .book-wrapper{
        margin-bottom: 3rem;


    }
    .book{
        background-color: #f1f3f4;
    }
</style>
    <div class="container">
        <div>

            <a href="{% url 'cbv:book_create' %}">Create a new book</a>
            <h3>All Shelves </h3> <hr />
            <div>
                {% if shelves %}
                    {% for shelve in shelves %}
                        <div>
                            <a href="#">{{ shelve.name }}</a>
                        </div>

                    {% endfor %}
                {% endif %}
            </div>
            <div>
                <h3>All Floors</h3> <hr>
                <div>
                    {% if floors %}
                        {% for floor in floors %}
                            <div>
                                <div>
                                    <a href="#">
                                        Floor {{ forloop.counter }}
                                    </a>
                                </div>
                            </div>
                        {% endfor %}
                    {% endif %}
                </div>
            </div>


        </div>
        <div>
            <h3>All  books </h3> <hr />
            {% if books %}
                {% for book in books %}
                    <div class="book-wrapper">
                        <div class="book">
                            <a href="{% url 'cbv:book_detail' id=book.id %}">{{ book.title }} by {{ book.author.name }}</a>
                            <p>
                                {{ book.description | truncatechars:300 }}
                            </p>

                        </div>

                    </div>

                {% endfor %}
            {% else %}
                <p>No books available <a href="{% url 'cbv:book_create' %}">add a new book</a></p>
            {% endif %}

        </div>
        <div>
            <h3>All authors</h3> <hr />
            <div>
                    {% if authors %}
                        {% for author in authors %}
                            <div>
                                <div>
                                    <a href="#">
                                        {{ author.name }}
                                    </a>
                                </div>
                            </div>
                        {% endfor %}
                    {% endif %}
                </div>
        </div>

    </div>


{% endblock %}